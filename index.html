<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"> 
    <title>Cosmic ...</title>
    <link rel="stylesheet" type="text/css" href="main.css">
    
    <script src="box2d.min.js" type="text/jscript"></script>
    <script src="box2d-helpers.js" type="text/javascript"></script>
    
    <script src="utils.js"></script>
    <script src="camera.js"></script>
    <script src="init.js"></script>
    
    <script src="animation.js"></script>
    <script src="level.js"></script>
    <script src="bullet.js"></script>
    <script src="ship.js"></script>
    <script src="main.js"></script>
    <script src="menu.js"></script>
    
    <script src="input2.js"></script>

</head>
    <body>
        
        <script>
            window.requestAnimationFunc = (function(){
                if (window.requestAnimationFrame) {
                    return window.requestAnimationFrame;
                }
                if (window.webkitRequestAnimationFrame) {
                    return window.webkitRequestAnimationFrame;
                }
                if (window.mozRequestAnimationFrame) {
                    window.mozRequestAnimationFrame;
                }
                if (window.oRequestAnimationFrame) {
                    window.oRequestAnimationFrame;
                }
                if (window.msRequestAnimationFrame) {
                    window.msRequestAnimationFrame;
                }
                return function(callback){
                    window.setTimeout(callback, 1000/60);
                };      
            })();
            
            InitGame();
            loadAssets();
            


            function start() {
                
                Object.defineProperty(app, "camera", {
                    value: new Camera(),
                    enumerable: true,
                    writable: true,
                    configurable: false
                });
                var lev = new Level();
                lev.createNewLevel();
                
                var sound = new Audio("asset/FirstShipLoop.wav");
                sound.loop = true;
                sound.volume = 0.25;
                sound.load();
                sound.play();
                app.player = new WaveShip(0, 0);
                app.player.update =  updatePlayerShip;
                
                var x = new PlasmaShip(-5, 0);
                app.camera.MetersPerPixel = 1/36;
                if (app.iOS) {
                    window.setInterval(main_iOS, 1000/60);
                }
                else{
                    window.requestAnimationFunc(main);
                }
                
            }
        </script>

    </body>
</html>
